<h2>Nuevo Usuario</h2>
<mat-horizontal-stepper [linear]="isLinear" #stepper>
  <mat-step [stepControl]="firstFormGroup">
    <form [formGroup]="firstFormGroup" >
      <ng-template matStepLabel>Datos Personales</ng-template>
      <div class="row">
        <div class="col-md-4">
              <mat-form-field>
                  <input matInput placeholder="Nombre" formControlName="nombre" [(ngModel)]="usuario.nombre" required>
                </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field>
            <input matInput placeholder="Apellido" formControlName="apellido" [(ngModel)]="usuario.apellido" required>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field>
            <input matInput placeholder="Correo Electronico" formControlName="correo" [(ngModel)]="usuario.correo" required> 
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field>
              <input matInput type="number" placeholder="Celular" formControlName="celular" [(ngModel)]="usuario.celular"  required>
            </mat-form-field>
        </div>
      </div>
      <div>
          

        <button class="button-formulario" mat-button matStepperNext>Siguiente</button>
      </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="secondFormGroup">
    <form [formGroup]="secondFormGroup">
      <ng-template matStepLabel>Datos Personales</ng-template>
        <div class="row">
          <div class="col-md-4">
            <mat-form-field>
              <input matInput type="password" placeholder="ContraseÃ±a" formControlName="contrasenia" [(ngModel)]="usuario.clave" required>
            </mat-form-field>
          </div>
          <div class="col-md-4">
              <mat-form-field>
                  <mat-select placeholder="Rol" formControlName="rol" [(ngModel)]="usuario.id_rol">
                      <mat-option *ngFor="let rol of roles" [value]="rol._id">
                        {{rol.nombre | nombre}}
                      </mat-option>
                    </mat-select>
              </mat-form-field>
          </div>
          <div class="col-md-4">
              <mat-form-field>
                  <mat-select placeholder="Pais" formControlName="pais" [(ngModel)]="usuario.id_pais">
                      <mat-option *ngFor="let pais of paises" [value]="pais._id" >
                        {{pais.nombre | nombre}}
                      </mat-option>
                    </mat-select>
              </mat-form-field>
          </div>
          </div>
          <div>
              

              <button class="button-formulario mr-2" mat-button matStepperPrevious>Atras</button>
              <button class="button-formulario" mat-button matStepperNext>Siguiente</button>
            </div>
    </form>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Seleccion de segmento</ng-template>
    <p>Arrastra que tipo de segmento manejara el comercial</p>
    <div class="row mb-2">
          <div class="col-md-6">
              <h4>Segmentos de {{usuario.nombre}} {{usuario.apellido}}</h4>
          
              <div
                cdkDropList
                #todoList="cdkDropList"
                [cdkDropListData]="todo"
                [cdkDropListConnectedTo]="[doneList]"
                class="example-list"
                (cdkDropListDropped)="drop($event)">
                <div class="example-box" *ngFor="let item of todo" cdkDrag> <img class="imagen-contenedor" [src]="imagenContenedor(item.nombre)" alt=""> {{item.nombre}}</div>
              </div>
          </div>
               <div class="col-md-6">
                  <h4>Segmentos</h4>
                  <div
                    cdkDropList
                    #doneList="cdkDropList"
                    [cdkDropListData]="segmentos"
                    [cdkDropListConnectedTo]="[todoList]"
                    class="example-list"
                    (cdkDropListDropped)="drop($event)">
                    <div class="example-box" *ngFor="let segmento of segmentos" cdkDrag><img class="imagen-contenedor" [src]="imagenContenedor(segmento.nombre)" alt=""> {{segmento.nombre}}</div>
                  </div>
          </div>
               </div>      
        

    <div>
        

      <button class="button-formulario mr-2" mat-button matStepperPrevious>Atras</button>
      <button class="button-formulario mr-2" mat-button (click)="guardar()">Guardar</button>
    </div>
  </mat-step>
</mat-horizontal-stepper>


