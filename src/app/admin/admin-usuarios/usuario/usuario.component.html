<div class="row animated fadeIn">
    <div class="col-lg-7">
      <div class="card" style=" min-height: 383px;">
        <div class="card-body">
          <h4 class="card-title">Perfil del usuario {{usuario?.nombre}} {{usuario?.apellido}}</h4>
          <form class="form p-t-20" #f="ngForm" (ngSubmit)="guardar(f.value, usuario._id)" ngNativeValidate>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="exampleInputuname">Nombre de usuario</label>
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text">
                        <i class="ti-user"></i>
                      </span>
                    </div>
                    <input [ngModel]="usuario?.nombre" name="nombre" type="text" class="form-control" placeholder="Nombre del usuario" required>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                  <div class="form-group">
                      <label for="exampleInputEmail1">Apellido del usuario</label>
                      <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                              <i class="ti-user"></i>
                            </span>
                        </div>
                        <input [ngModel]="usuario?.apellido" name="apellido" type="text" class="form-control" placeholder="Apellido del usuario" required>
                      </div>
                    </div>
              </div>
              <div class="col-md-6">
                  <div class="form-group">
                      <label for="exampleInputEmail1">Email del usuario</label>
                      <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                              <i class="ti-email"></i>
                            </span>
                        </div>
                        <input [ngModel]="usuario?.correo" name="correo" type="email" class="form-control" placeholder="Correo del usuario" required>
                      </div>
                    </div> 
              </div>
              <div class="col-md-6">
                  <div class="form-group">
                      <label for="exampleInputEmail1">Numero celular</label>
                      <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                              <i class="ti-mobile"></i>
                            </span>
                        </div>
                        <input [ngModel]="usuario?.celular" name="celular" type="number" class="form-control" placeholder="Telefono celular" required>
                      </div>
                    </div>
              </div>
            </div>
            <button  type="submit" class="btn btn-block color-azul waves-effect waves-light m-r-10">Guardar</button>
          </form>
        </div>
      </div>
    </div>
  
    <div class="col-lg-5">
      <div class="card " style=" min-height: 383px;">
        <div class="card-body" align="center">
          <h4 class="card-title">Foto del usuario</h4>
          <img [ngStyle]="{'filter': estadoUsuario(usuario?.estado)}" *ngIf="imagenActual"[src]="imagenActual" class="foto mb-2 wow flipInY" data-wow-duration="1s" > 
          <img [ngStyle]="{'filter': estadoUsuario(usuario?.estado)}"  *ngIf="!imagenActual" [src]="usuario?.imagen" class="foto mb-2 wow flipInY" data-wow-duration="1s"> 
          <input (change)="seleccionImagen( $event.target.files[0] )" type="file">
          <br>
          <br>
          <button (click)="cambiarImagen()" [disabled]="!imagenSubir" type="button" class="btn btn-block color-azul waves-effect waves-light m-r-10">Actualizar foto</button>
        </div>
      </div>
    </div>

    <div class="col-lg-2">
        <div class="card">
          <div class="card-body" align="center">
              <ul>
                <li><i class="ti-trash" style="color: red;"></i><h5 class="pointer" (click)="deleteUsuario(usuario?._id)" style="display: inline-block; color: red;">Eliminar Comercial</h5></li>
                <hr >
                <li><h5 (click)="cambiarEstado(usuario?.estado, usuario?._id)" class="pointer" style="display: inline-block;">{{(usuario?.estado == 'ACTIVO') ? 'DESACTIVAR' : 'ACTIVAR'}} Comercial</h5></li>
                <!-- *ngIf="usuario?.id_rol.nombre != 'ADMIN'" -->
              </ul>
          </div>
        </div>
      </div>
    <div class="col-lg-5" style="margin-bottom: 100px;">
        <div class="card">
          <div class="card-body" align="center">
              <div class="row mb-2">
                <div class="col-md-6">
                  <h4>Segmentos de {{usuario?.nombre}} {{usuario?.apellido}}</h4>
                    <div
                      cdkDropList
                      #todoList="cdkDropList"
                      [cdkDropListData]="todo"
                      [cdkDropListConnectedTo]="[doneList]"
                      class="example-list"
                      (cdkDropListDropped)="drop($event)">
                       <div class="example-box" *ngFor="let item of todo" cdkDrag> <img class="imagen-contenedor" [src]="imagenContenedor(item.nombre)" alt="" > {{item?.nombre}}</div>
                    </div>
                </div>
                <div class="col-md-6">
                  <h4>Segmentos</h4>
                    <div
                      cdkDropList
                      #doneList="cdkDropList"
                      [cdkDropListData]="segmentos_total"
                      [cdkDropListConnectedTo]="[todoList]"
                      class="example-list"
                      (cdkDropListDropped)="drop($event)">
                      <div class="example-box" *ngFor="let segmento of segmentos_total" cdkDrag><img class="imagen-contenedor" [src]="imagenContenedor(segmento.nombre)" alt=""> {{segmento?.nombre}}</div>
                    </div>
                </div>
            </div>  
            <button (click)="guardar(usuario, usuario._id)" type="button" class="btn btn-block color-azul waves-effect waves-light m-r-10">Actualizar segmentos</button>
          </div>
        </div>
      </div>
      <div class="col-sm-5">
          <div class="card">
              <div class="card-body">
                  <h4 class="card-title">Ciudades</h4>
                  <ng-multiselect-dropdown *ngIf="ciudades"
                    placeholder="Selecciona una o varias ciudades"
                    [data]="ciudades"
                    [(ngModel)]="ciudadesArray"
                    [settings]="dropdownSettings"
                    (onSelect)="onItemSelect($event)"
                    (onSelectAll)="onSelectAll($event)"
                    (onDeSelect)="unSelect($event)"
                    (onDeSelectAll)="unSelectAll($event)">
                  </ng-multiselect-dropdown>
                  <button (click)="guardar(usuario, usuario._id)" type="button" class="btn btn-block color-azul waves-effect waves-light m-r-10 mt-3">Actualizar Ciudades</button>
              </div>
          </div>
          <div class="card">
              <div class="card-body">
                  <h4 class="card-title">Tipo de Cliente</h4>
                  <ng-multiselect-dropdown
                    placeholder="Selecciona uno o varios tipos de usuario"
                    [data]="tiposDeCliente"
                    [(ngModel)]="tiposDeClienteArray"
                    [settings]="dropdownSettings"
                    (onSelect)="onItemSelect($event)"
                    (onSelectAll)="onSelectAll2($event)"
                    (onDeSelect)="unSelect2($event)"
                    (onDeSelectAll)="unSelectAll($event)">
                  </ng-multiselect-dropdown>
                  <button (click)="guardar(usuario, usuario._id)" type="button" class="btn btn-block color-azul waves-effect waves-light m-r-10 mt-3">Actualizar Tipo de cliente</button>
              </div>
          </div>     
      </div>
    
         
  </div>